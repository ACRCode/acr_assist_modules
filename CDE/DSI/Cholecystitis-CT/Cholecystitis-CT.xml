<?xml version="1.0" encoding="UTF-8"?>
<?xml-model href="../../../XML Schema/ACRAssist_xml_schema.rnc" type="application/relax-ng-compact-syntax"?>
<ReportingModule>
	<Metadata>
		<Label>Cholecystitis-CT</Label>
		<ID>Cholecystitis-CT</ID>
		<SchemaVersion>1.0</SchemaVersion>
		<ModuleVersion>1.0</ModuleVersion>
		<Info>
			<Description>This module describes the Common Data elements and Macros for Cholecystitis-CT</Description>
			
			<References>
				<Citation Url="http://radelement.org/"> CDE URL </Citation> 
			</References>
			
			<Diagrams>
				<Diagram DisplaySequence="1" IsKeyDiagram="true">
					<Location>keydiagram.jpg</Location>
					<Label>Cholecystitis-CT key image</Label>
				</Diagram>
			</Diagrams>
			<Contact>
				<Name>ACR Assist</Name>
				<Email>acr-assist@acr.org</Email>
				<Institution>American College of Radiology</Institution>
			</Contact>
		</Info>
		<ReportCitationText>C</ReportCitationText>
        <ApplicableSexes Value="Both"></ApplicableSexes>
		
	</Metadata>


  <DataElements>
  
  <GlobalValue Id="conditionConst">10</GlobalValue>
  
  <ChoiceDataElement Id="detection" IsRequired="true" DisplaySequence="1">
      <Label>Detection of gallstone</Label>
      <ChoiceInfo>
        <Choice>
          <Value>0</Value>
          <Label>Absent</Label>
        </Choice>
        <Choice>
          <Value>1</Value>
          <Label>Present</Label>
        </Choice>
        <Choice>
          <Value>2</Value>
          <Label>Undetermined</Label>
        </Choice>
      </ChoiceInfo>
    </ChoiceDataElement>
  </DataElements>
  
    <ChoiceDataElement Id="fluid_detection" IsRequired="true" DisplaySequence="2">
      <Label>Pericholecystic fluid detection</Label>
      <ChoiceInfo>
        <Choice>
          <Value>0</Value>
          <Label>Absent</Label>
        </Choice>
        <Choice>
          <Value>1</Value>
          <Label>Present</Label>
        </Choice>
        <Choice>
          <Value>2</Value>
          <Label>Undetermined</Label>
        </Choice>
      </ChoiceInfo>
    </ChoiceDataElement>
  </DataElements>
  
  <NumericDataElement Id="measurement" IsRequired="true" DisplaySequence="3">
			<Label>Gallbladder lumen distention measurement in mm</Label>
			<Minimum>0.00</Minimum>
			<Maximum>1000.00</Maximum>
		</NumericDataElement>
  
  <Rules>
		<DecisionPoint Id="macrodp">
			<Label>Macro Banch</Label>
			<Branch>
				<EqualCondition DataElementId="conditionConst" ComparisonValue="10"/>
				<EndPointRef EndPointId="macroEndpoint"></EndPointRef>
			</Branch>
		</DecisionPoint>		
	</Rules>

	
    <EndPoints>		
	 <TemplatePartial Id ="ExamPartial">
	 	<Branch>
	 		<ReportText Type="PlainText">EXAM TYPE: Cholecystitis-CT EVALUATION</ReportText>
	 		<ReportText Type="Newline"></ReportText>
	 		<ReportText Type="PlainText">INDICATION: detailed examination </ReportText>
	 		<ReportText Type="Newline"></ReportText>
	 		<ReportText Type="PlainText" >COMPARISON: NONE </ReportText>
	 		<ReportText Type="Newline"></ReportText>
	 	</Branch>
	 </TemplatePartial>


	<EndPoint Id="macroEndpoint">
		<Label>A</Label>
		<ReportSections>
			<ReportSection SectionId="findings">
				<Branch>
					<ReportText Type="InsertPartialTemplate" Value="ExamPartial"></ReportText>
					<ReportText Type="Newline"/>
					<ReportText Type="PlainText">Cholecystitis-CT evaluation results:</ReportText>
					<ReportText Type="Newline"/>
				</Branch>
				<Branch>
				    <SectionIf DataElementId="detection" />
					<ReportText Type="PlainText">Cholecystitis:</ReportText>
					<ReportText Type="InsertDataElementValue" Value="detection"/>
					<ReportText Type="Newline"/>
				</Branch>
				<Branch>
				    <SectionIf DataElementId="fluid_detection" />
					<ReportText Type="PlainText">Pericholecystic fluid:</ReportText>
					<ReportText Type="InsertDataElementValue" Value="fluid_detection"/>
					<ReportText Type="Newline"/>
				</Branch>
				<Branch>
				    <SectionIf DataElementId="measurement" />
					<ReportText Type="PlainText">Gallbladder lumen distention measurement in mm: </ReportText>
					<ReportText Type="InsertDataElementValue" Value="measurement"/>
					<ReportText Type="Newline"/>
				</Branch>
				
				</ReportSection>
		</ReportSections>
		</EndPoint>	
	</EndPoints>

</ReportingModule>