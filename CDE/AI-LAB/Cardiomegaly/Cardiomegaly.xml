<?xml version="1.0" encoding="UTF-8"?>
<?xml-model href="../../../XML Schema/ACRAssist_xml_schema.rnc" type="application/relax-ng-compact-syntax"?>
<ReportingModule>
	<Metadata>
		<Label>Cardiomegaly</Label>
		<ID>cardiomegaly</ID>
		<SchemaVersion>1.0</SchemaVersion>
		<ModuleVersion>1.0</ModuleVersion>
		<Info>
			<Description>This module describes the Common Data elements and Macros for cardiomegaly</Description>
			
			<References>
				<Citation Url="http://radelement.org/"> CDE URL </Citation> 
			</References>
			
			<Diagrams>
				<Diagram DisplaySequence="1" IsKeyDiagram="true">
					<Location>keydiagram.jpg</Location>
					<Label>cardiomegaly key image</Label>
				</Diagram>
			</Diagrams>
			<Contact>
				<Name>ACR Assist</Name>
				<Email>acr-assist@acr.org</Email>
				<Institution>American College of Radiology</Institution>
			</Contact>
		</Info>
		<ReportCitationText>C</ReportCitationText>
        <ApplicableSexes Value="Both"></ApplicableSexes>
		
	</Metadata>

	
	<DataElements>
	
	<GlobalValue Id="conditionConst">10</GlobalValue>
	
	   <NumericDataElement Id="cardiothoracicratio" IsRequired="true" DisplaySequence="1">
			<Label>Cardiothoracic ratio</Label>
		</NumericDataElement>
	
		
		<ChoiceDataElement Id="cardiodetection" IsRequired="true" DisplaySequence="2">
			<Label>Cardiomegaly detection</Label>
			<ChoiceInfo>
				<Choice>
					<Value>absent</Value>
					<Label>0 - Cardiomegaly absent</Label>	
				</Choice>
				<Choice>
					<Value>present</Value>
					<Label>1 - Cardiomegaly present</Label>
				</Choice>
                <Choice>
					<Value>indeterminate</Value>
					<Label>2 - Indeterminate</Label>
				</Choice>				
			</ChoiceInfo>			
		</ChoiceDataElement>
		
		<NumericDataElement Id="carinaangle" IsRequired="true" DisplaySequence="3">
			<Label>Carina Angle</Label>
		</NumericDataElement>
		
	</DataElements>
	
	
	
	
	<Rules>
		<DecisionPoint Id="macrodp">
			<Label>Macro Banch</Label>
			<Branch>
				<EqualCondition DataElementId="conditionConst" ComparisonValue="10"/>
				<EndPointRef EndPointId="macroEndpoint"></EndPointRef>
			</Branch>
		</DecisionPoint>		
	</Rules>

	
    <EndPoints>		

	<EndPoint Id="macroEndpoint">
		<Label>A</Label>
		<ReportSections>
			<ReportSection SectionId="findings">
				<Branch>
					<ReportText Type="PlainText"> Cardiomegaly evaluation results: </ReportText>
					<ReportText Type="Newline"/>
				</Branch>
				<Branch>
				    <SectionIf DataElementId="cardiothoracicratio" />
					<ReportText Type="PlainText"> Cardiothoracic ratio is : </ReportText>
					<ReportText Type="InsertDataElementValue" Value="cardiothoracicratio"/>
					<ReportText Type="Newline"/>
				</Branch>
				<Branch>
				    <SectionIf DataElementId="cardiodetection" />
					<ReportText Type="PlainText"> Cardiomegaly detection class is : </ReportText>
					<ReportText Type="InsertDataElementValue" Value="cardiodetection"/>
					<ReportText Type="Newline"/>
				</Branch>

				<Branch>
				    <SectionIf DataElementId="carinaangle" />
					<ReportText Type="PlainText"> Carina angle is : </ReportText>
					<ReportText Type="InsertDataElementValue" Value="carinaangle"/>
					<ReportText Type="Newline"/>
				</Branch>
				
				
            
	    </ReportSection>
		</ReportSections>
		</EndPoint>	
	</EndPoints>
</ReportingModule>

	