<?xml version="1.0" encoding="UTF-8"?>
<?xml-model href="../../../XML Schema/ACRAssist_xml_schema.rnc" type="application/relax-ng-compact-syntax"?>
<ReportingModule>
	<Metadata>
		<Label>Brain MS</Label>
		<ID>Brain_MS</ID>
		<SchemaVersion>1.0</SchemaVersion>
		<ModuleVersion>1.0</ModuleVersion>
		<Info>
			<Description>This module describes the Common Data elements and Macros for Brain MS</Description>
			
			<References>
				<Citation Url="http://radelement.org/"> CDE URL </Citation> 
			</References>
			
			<Diagrams>
				<Diagram DisplaySequence="1" IsKeyDiagram="true">
					<Location>keydiagram.jpg</Location>
					<Label>Brain MS key image</Label>
				</Diagram>
			</Diagrams>
			<Contact>
				<Name>ACR Assist</Name>
				<Email>acr-assist@acr.org</Email>
				<Institution>American College of Radiology</Institution>
			</Contact>
		</Info>
		<ReportCitationText>Brain MS</ReportCitationText>
        <ApplicableSexes Value="Both"></ApplicableSexes>
		
	</Metadata>
	
	<DataElements>


		<GlobalValue Id="conditionConst">10</GlobalValue>
		
		<IntegerDataElement Id="supratentoriallesionnumber" IsRequired="true" DisplaySequence="2" CdeId = "100">
			<Label>Supratentorial lesion Number</Label>
			<Hint>Use 0-10 scale</Hint>
		    <Minimum>1</Minimum>
			<Maximum>10</Maximum>
		</IntegerDataElement>	
		
		<!--<ChoiceDataElement Id="supratentoriallesionside" DisplaySequence="3" IsRequired="true" CdeId = "100">
			<Label>Supratentorial lesion Side</Label>
			<ChoiceInfo>
				<Choice>
					<Value>left</Value>
					<Label>Left</Label>

				</Choice>
				<Choice>
					<Value>right</Value>
					<Label>Right</Label>
				</Choice>
				<Choice>
					<Value>both</Value>
					<Label>Both</Label>
				</Choice>
			</ChoiceInfo>
		</ChoiceDataElement>-->
		
		<MultiChoiceDataElement Id="supratentoriallesionlocations" DisplaySequence="4" IsRequired="true" CdeId = "100">
			<Label>Supratentorial lesion Locations</Label>
			<ChoiceInfo>
				<Choice>
					<Value>frontal</Value>
					<Label>frontal</Label>
				</Choice>
				<Choice>
					<Value>parietal</Value>
					<Label>parietal</Label>
				</Choice>
				<Choice>
					<Value>temporal</Value>
					<Label>temporal</Label>
				</Choice>
			</ChoiceInfo>
		</MultiChoiceDataElement>
		
		<MultiChoiceDataElement Id="lesionlocationsubtype" DisplaySequence="5" IsRequired="true" CdeId = "100">
			<Label>Lesion location subtype</Label>
			<Hint>DIS criteria</Hint>
			<ChoiceInfo>
				<Choice>
					<Value>juxtacortical</Value>
					<Label>juxtacortical</Label>
				</Choice>
				<Choice>
					<Value>periventricular</Value>
					<Label>periventricular</Label>
				</Choice>
				<Choice>
					<Value>other</Value>
					<Label>other</Label>
				</Choice>
			</ChoiceInfo>
		</MultiChoiceDataElement>
		
		
		<IntegerDataElement Id="infratentoriallesionnumber" IsRequired="true" DisplaySequence="6" CdeId = "100">
			<Label>Infratentorial lesion Number</Label>
			<Hint>Use 0-10 scale</Hint>
			<Minimum>1</Minimum>
			<Maximum>10</Maximum>
		</IntegerDataElement>	
		
		<MultiChoiceDataElement Id="infratentoriallocations" DisplaySequence="7" IsRequired="true" CdeId = "100">
			<Label>Infratentorial Locations</Label>
			<ChoiceInfo>
				<Choice>
					<Value>midbrain</Value>
					<Label>midbrain</Label>
				</Choice>
				<Choice>
					<Value>leftpons</Value>
					<Label>left pons</Label>
				</Choice>
				<Choice>
					<Value>rightpons</Value>
					<Label>right pons</Label>
				</Choice>
				<Choice>
					<Value>leftbrachiumpontis</Value>
					<Label>left brachium pontis</Label>
				</Choice>
				<Choice>
					<Value>rightbrachiumpontis</Value>
					<Label>right brachium pontis</Label>
				</Choice>
				<Choice>
					<Value>rightcerebellum</Value>
					<Label>right cerebellum</Label>
				</Choice>
				<Choice>
					<Value>leftcerebellum</Value>
					<Label>left cerebellum</Label>
				</Choice>

			</ChoiceInfo>
		</MultiChoiceDataElement>
		
		<!--<ChoiceDataElement Id="infratentoriallocations" DisplaySequence="8" IsRequired="true" CdeId = "100">
			<Label>Infratentorial Locations</Label>
			<ChoiceInfo>
				<Choice>
					<Value>midbrain</Value>
					<Label>Midbrain</Label>
				</Choice>
				<Choice>
					<Value>pons</Value>
					<Label>Pons</Label>
				</Choice>
				<Choice>
					<Value>medulla</Value>
					<Label>Medulla</Label>
				</Choice>
				<Choice>
					<Value>cerebellum</Value>
					<Label>Cerebellum</Label>
				</Choice>
			</ChoiceInfo>
		</ChoiceDataElement>-->
		
		
		<ChoiceDataElement Id="cervico-medullary" DisplaySequence="9" IsRequired="true" CdeId = "100">
			<Label>Cervico-medullary</Label>

			<ChoiceInfo>
				<Choice>
					<Value>yes</Value>
					<Label>yes</Label>
				</Choice>
				<Choice>
					<Value>no</Value>
					<Label>no</Label>
				</Choice>
			</ChoiceInfo>
		</ChoiceDataElement>		
	
		<ChoiceDataElement Id="masseffect" DisplaySequence="10" IsRequired="true" CdeId = "100">
			<Label>Mass Effect</Label>

			<ChoiceInfo>
				<Choice>
					<Value>yes</Value>
					<Label>yes</Label>
				</Choice>
				<Choice>
					<Value>no</Value>
					<Label>no</Label>
				</Choice>
			</ChoiceInfo>
		</ChoiceDataElement> 
		
		<ChoiceDataElement Id="BlackHolesT1hypointense" IsRequired="true" DisplaySequence="11" CdeId = "100">
			<Label>Black Holes T1 hypointense?</Label>
			<ChoiceInfo>
				<Choice>
					<Value>yes</Value>
					<Label>yes</Label>
					
				</Choice>
				<Choice>
					<Value>no</Value>
					<Label>no</Label>
				</Choice>
			</ChoiceInfo>
		</ChoiceDataElement>
		
	<!--  		<ChoiceDataElement Id="blackholelocations" IsRequired="true" DisplaySequence="12" CdeId = "100">
			<Label>Black hole locations</Label>
			<ChoiceInfo>
				<Choice>
					<Value>ldblquoteblackholes</Value>
					<Label>ldblquote black holes</Label>
				</Choice>
				<Choice>
					<Value>rdblquote</Value>
					<Label>rdblquote</Label>
				</Choice>
			</ChoiceInfo>
		</ChoiceDataElement>
	
		
				
		<ChoiceDataElement Id="T2FLAIRhyperintenselesions" DisplaySequence="1" IsRequired="true" CdeId = "100">
			<Label>T2/FLAIR hyperintense lesions</Label>
			<ChoiceInfo>
				<Choice>
					<Value>yes</Value>
					<Label>Yes</Label>
				</Choice>
				<Choice>
					<Value>no</Value>
					<Label>No</Label>
				</Choice>
			</ChoiceInfo>
		</ChoiceDataElement>
		
			
		<ChoiceDataElement Id="atrophy" IsRequired="true" DisplaySequence="9" CdeId = "100">
			<Label>Atrophy</Label>
			<ChoiceInfo>
				<Choice>
					<Value>None</Value>
					<Label>None</Label>
				</Choice>
				<Choice>
					<Value>mild</Value>
					<Label>Mild</Label>
				</Choice>
				<Choice>
					<Value>moderate</Value>
					<Label>Moderate</Label>
				</Choice>
				<Choice>
					<Value>severe</Value>
					<Label>Severe</Label>
				</Choice>
			</ChoiceInfo>
		</ChoiceDataElement>
		
		<ChoiceDataElement Id="pseudotumorallesions"  DisplaySequence="10" IsRequired="true" CdeId = "100">
			<Label>Pseudotumoral Lesions</Label>
			<ChoiceInfo>
				<Choice>
					<Value>yes</Value>
					<Label>Yes</Label>
				</Choice>
				<Choice>
					<Value>no</Value>
					<Label>No</Label>
				</Choice>
			</ChoiceInfo>
		</ChoiceDataElement>
		
		<ChoiceDataElement Id="thalamiclesions"  DisplaySequence="11" IsRequired="false" CdeId = "100">
			<Label>Thalamic Lesions</Label>
			<ChoiceInfo>
				<Choice>
					<Value>yes</Value>
					<Label>Yes</Label>
				</Choice>
				<Choice>
					<Value>no</Value>
					<Label>No</Label>
				</Choice>
			</ChoiceInfo>
		</ChoiceDataElement>
		
		<ChoiceDataElement Id="basalganglia"  DisplaySequence="12" IsRequired="false" CdeId = "100">
			<Label>Basal Ganglia</Label>
			<ChoiceInfo>
				<Choice>
					<Value>yes</Value>
					<Label>Yes</Label>
				</Choice>
				<Choice>
					<Value>no</Value>
					<Label>No</Label>
				</Choice>
			</ChoiceInfo>
		</ChoiceDataElement>	

		<ChoiceDataElement Id="lesionstypicalofMS"  DisplaySequence="13" IsRequired="true" CdeId = "100">
			<Label>Lesions typical of MS</Label>
			<ChoiceInfo>
				<Choice>
					<Value>typical</Value>
					<Label>Typical</Label>
				</Choice>
				<Choice>
					<Value>atypical</Value>
					<Label>Atypical</Label>
				</Choice>
				<Choice>
					<Value>notMS</Value>
					<Label>Not MS</Label>
				</Choice>
			</ChoiceInfo>
		</ChoiceDataElement>	
		
		<ChoiceDataElement Id="alternativediagnosis"  DisplaySequence="14" IsRequired="true" CdeId = "100">
			<Label>Alternative Diagnosis</Label>
			<ChoiceInfo>
				<Choice>
					<Value>yes</Value>
					<Label>Yes</Label>
				</Choice>
				<Choice>
					<Value>no</Value>
					<Label>No</Label>
				</Choice>
			</ChoiceInfo>
		</ChoiceDataElement>	
		
		<ChoiceDataElement Id="diseasebuCdeIdn"  DisplaySequence="15" IsRequired="true" CdeId = "100">
			<Label>Disease BuCdeIdn</Label>
			<ChoiceInfo>
				<Choice>
					<Value>none</Value>
					<Label>None</Label>
				</Choice>
				<Choice>
					<Value>mild</Value>
					<Label>Mild</Label>
				</Choice>
				<Choice>
					<Value>moderate</Value>
					<Label>Moderate</Label>
				</Choice>
				<Choice>
					<Value>severe</Value>
					<Label>Severe</Label>
				</Choice>
			</ChoiceInfo>
		</ChoiceDataElement>	
		
		
		<ChoiceDataElement Id="NewT2FLAIRhyperintenselesions" DisplaySequence="16" IsRequired="true" CdeId = "100">
			<Label>New T2/FLAIR hyperintense lesions</Label>
			
			<ChoiceInfo>
				<Choice>
					<Value>0</Value>
					<Label>0</Label>
				</Choice>
				<Choice>
					<Value>1</Value>
					<Label>1</Label>
				</Choice>
				<Choice>
					<Value>2</Value>
					<Label>2</Label>
				</Choice>
				<Choice>
					<Value>3</Value>
					<Label>3</Label>
				</Choice>
				<Choice>
					<Value>4</Value>
					<Label>4</Label>
				</Choice>
				<Choice>
					<Value>5</Value>
					<Label>5</Label>
				</Choice>
				<Choice>
					<Value>>5</Value>
					<Label>>5</Label>
				</Choice>
				</ChoiceInfo>
		</ChoiceDataElement>			

		<ChoiceDataElement Id="enlargingT2FLAIRlesions" DisplaySequence="17" IsRequired="true" CdeId = "100">
			<Label>Enlarging T2/FLAIR lesions)</Label>
			
			<ChoiceInfo>
				<Choice>
					<Value>0</Value>
					<Label>0</Label>
				</Choice>
				<Choice>
					<Value>1</Value>
					<Label>1</Label>
				</Choice>
				<Choice>
					<Value>2</Value>
					<Label>2</Label>
				</Choice>
				<Choice>
					<Value>3</Value>
					<Label>3</Label>
				</Choice>
				<Choice>
					<Value>4</Value>
					<Label>4</Label>
				</Choice>
				<Choice>
					<Value>5</Value>
					<Label>5</Label>
				</Choice>
				<Choice>
					<Value>>5</Value>
					<Label>>5</Label>
				</Choice>
				</ChoiceInfo>
		</ChoiceDataElement>

		<ChoiceDataElement Id="newT1enhancinglesions" DisplaySequence="18" IsRequired="true" CdeId = "100">
			<Label>New T1 Enhancing Lesions</Label>
			
			<ChoiceInfo>
				<Choice>
					<Value>0</Value>
					<Label>0</Label>
				</Choice>
				<Choice>
					<Value>1</Value>
					<Label>1</Label>
				</Choice>
				<Choice>
					<Value>2</Value>
					<Label>2</Label>
				</Choice>
				<Choice>
					<Value>3</Value>
					<Label>3</Label>
				</Choice>
				<Choice>
					<Value>4</Value>
					<Label>4</Label>
				</Choice>
				<Choice>
					<Value>5</Value>
					<Label>5</Label>
				</Choice>
				<Choice>
					<Value>>5</Value>
					<Label>>5</Label>
				</Choice>
				</ChoiceInfo>
		</ChoiceDataElement>
		
		<ChoiceDataElement Id="newT1hypointenselesions" DisplaySequence="19" IsRequired="true" CdeId = "100">
			<Label>New T1 hypointense lesions</Label>
			
			<ChoiceInfo>
				<Choice>
					<Value>0</Value>
					<Label>0</Label>
				</Choice>
				<Choice>
					<Value>1</Value>
					<Label>1</Label>
				</Choice>
				<Choice>
					<Value>2</Value>
					<Label>2</Label>
				</Choice>
				<Choice>
					<Value>3</Value>
					<Label>3</Label>
				</Choice>
				<Choice>
					<Value>4</Value>
					<Label>4</Label>
				</Choice>
				<Choice>
					<Value>5</Value>
					<Label>5</Label>
				</Choice>
				<Choice>
					<Value>>5</Value>
					<Label>>5</Label>
				</Choice>
				</ChoiceInfo>
		</ChoiceDataElement>
		
		<ChoiceDataElement Id="progressionofatrophy" DisplaySequence="20" IsRequired="true" CdeId = "100">
			<Label>Progression of atrophy</Label>
			<ChoiceInfo>
				<Choice>
					<Value>yes</Value>
					<Label>Yes</Label>
				</Choice>
				<Choice>
					<Value>no</Value>
					<Label>No</Label>
				</Choice>
			</ChoiceInfo>
		</ChoiceDataElement>

		<ChoiceDataElement Id="newlesionsuspicious" DisplaySequence="21" IsRequired="true" CdeId = "100">
			<Label>New lesion suspicious for PML</Label>
			<ChoiceInfo>
				<Choice>
					<Value>yes</Value>
					<Label>Yes</Label>
				</Choice>
				<Choice>
					<Value>no</Value>
					<Label>No</Label>
				</Choice>
			</ChoiceInfo>
		</ChoiceDataElement>

		<ChoiceDataElement Id="NewT2hyperintenselesionwithdiffusion" DisplaySequence="22" IsRequired="true" CdeId = "100">
			<Label>New T2 hyperintense lesion with diffusion</Label>
			<Hint>leading edge of restricted diffusion?</Hint>
			<ChoiceInfo>
				<Choice>
					<Value>yes</Value>
					<Label>Yes</Label>
				</Choice>
				<Choice>
					<Value>no</Value>
					<Label>No</Label>
				</Choice>
			</ChoiceInfo>
		</ChoiceDataElement>
		
		<ChoiceDataElement Id="enhancement" DisplaySequence="23" IsRequired="true" CdeId = "100">
			<Label>Enhancement</Label>
			<ChoiceInfo>
				<Choice>
					<Value>punctate</Value>
					<Label>Punctate</Label>
				</Choice>
				<Choice>
					<Value>clusterofpunctate</Value>
					<Label>Cluster of Punctate</Label>
				</Choice>
				<Choice>
					<Value>solid</Value>
					<Label>Solid</Label>
				</Choice>
			</ChoiceInfo>
		</ChoiceDataElement>	-->
				
	</DataElements>

	<Rules>
		<DecisionPoint Id="macrodp">
			<Label>Macro Banch</Label>
			<Branch>
				<EqualCondition DataElementId="conditionConst" ComparisonValue="10"/>
				<EndPointRef EndPointId="macroEndpoint"></EndPointRef>
			</Branch>
		</DecisionPoint>
		
	</Rules>

	<EndPoints>
		
	 <TemplatePartial Id ="ExamPartial">
		EXAM TYPE: BRAIN MRI W/WO CONTRAST
		EXAM DATE AND TIME: 5/9/2018 1:30 PM EDT
		INDICATION: r/o demyelinating disease 
		COMPARISON: NONE
	 </TemplatePartial>
	 
		<EndPoint Id="macroEndpoint">
		<Label>A</Label>
		 <ReportTexts>
				<ReportText SectionId="findings">	
					<!-- 	<InsertPartial PartialId="ExamPartial">  </InsertPartial> -->
					&amp;nbsp;
					CDE Report text
					&amp;nbsp;
					&amp;nbsp;
					<SectionIf DataElementId="supratentoriallesionnumber">&amp;nbsp;
					Supratentorially, there are&amp;nbsp;<InsertValue DataElementId="supratentoriallesionnumber"/></SectionIf>&amp;nbsp;<SectionIf DataElementId="supratentoriallesionnumber">T2/FLAIR hyperintensites in cerebral white matter including both&amp;nbsp;<InsertValue DataElementId="supratentoriallesionlocations">&amp;nbsp;lobes.</InsertValue></SectionIf>
					
					<SectionIf DataElementId="lesionlocationsubtype">&amp;nbsp;
					These lesions are primarily&amp;nbsp; <InsertValue DataElementId="lesionlocationsubtype">.</InsertValue>
					</SectionIf>
					
					<SectionIf DataElementId="infratentoriallesionnumber">&amp;nbsp;
					Infratentorially, there are&amp;nbsp; <InsertValue DataElementId="infratentoriallesionnumber"/></SectionIf>&amp;nbsp;<SectionIf DataElementId="infratentoriallocations">T2/FLAIR hyperintensities in brainstem including&amp;nbsp;
					<InsertValue DataElementId="infratentoriallocations">.</InsertValue></SectionIf>
					
					<SectionIf DataElementId="cervico-medullary">&amp;nbsp;
					Additional lesions are&amp;nbsp;<SectionIfValue DataElementId="cervico-medullary" ComparisonValue="no">not&amp;nbsp;</SectionIfValue></SectionIf><SectionIf DataElementId="cervico-medullary">visualized in the upper cervical spinal cord.
					</SectionIf> 
					
					<SectionIf DataElementId="masseffect">&amp;nbsp;
					There is&amp;nbsp;<SectionIfValue DataElementId="masseffect" ComparisonValue="no">no&amp;nbsp;</SectionIfValue></SectionIf><SectionIf DataElementId="masseffect">associated mass effect.
					</SectionIf>
					
					<SectionIf DataElementId="BlackHolesT1hypointense">&amp;nbsp;
					There are &amp;nbsp;</SectionIf><SectionIfValue DataElementId="BlackHolesT1hypointense" ComparisonValue="no">no&amp;nbsp;</SectionIfValue>
					<SectionIf DataElementId="BlackHolesT1hypointense">black holes present in the parietal white matter.
					</SectionIf>
					
					
					
					<!--<InsertValue DataElementId="blackholelocations"/>											-->
				</ReportText>
				<!-- 
				<ReportText SectionId="impression">	
				 <InsertPartial PartialId="ExamPartial">  </InsertPartial>
					 Findings compatible with multiple sclerosis.

					 TECHNIQUE: MR imaging of the brain was obtained with and without intravenous contrast (Gadovist 10ml)
					
					</ReportText>		 
				-->			
		</ReportTexts>	
			
		
		</EndPoint>
	</EndPoints>

</ReportingModule>
