<?xml version="1.0" encoding="UTF-8"?>
<?xml-model href="../../XML Schema/ACRAssist_xml_schema.rnc" type="application/relax-ng-compact-syntax"?>
<ReportingModule>
	<Metadata>
		<Label>ACR TI-RADS</Label>
		<ID>TI-RADS</ID>
		<SchemaVersion>2.0</SchemaVersion>
		<ModuleVersion>2.0</ModuleVersion>
		<CreatedDate>2018-12-31</CreatedDate>
    	<LastModifiedDate>2018-11-26</LastModifiedDate>
		<ApprovedBy>American College of Radiology</ApprovedBy>
		<ReviewedBy>American College of Radiology</ReviewedBy>
		<DevelopedBy>American College of Radiology</DevelopedBy>
		<Info>
			<Description>TI-RADS level determination</Description>
			<References>
                <Citation Url="https://nrdr.acr.org/lirads/">
                ACR LI-RADS</Citation>
			</References>
			<Diagrams>
				<Diagram DisplaySequence="1" IsKeyDiagram="true">
          <Location>keyimage.jpg</Location>
          <Label>TI-RADS</Label>
               </Diagram>
			</Diagrams>
			<Contact>
				<Name>ACR Assist</Name>
				<Email>acr-assist@acr.org</Email>
				<Institution>American College of Radiology</Institution>
			</Contact>
		</Info>
		<ReportCitationText>TI-RADS</ReportCitationText>
        <ApplicableSexes Value="Both"></ApplicableSexes>
	</Metadata>
	
	<DataElements>		
		<GlobalValue Id="conditionConst">10</GlobalValue>	
		
        <ChoiceDataElement Id="composition" IsRequired="true" DisplaySequence="1">
			<Label>Composition</Label>
			<ChoiceInfo>
				<Choice>
					<Value>0</Value>
					<Label>0-Cystic or almost completely cystic</Label>	
				</Choice>
				<Choice>
					<Value>0</Value>
					<Label>0-Spongiform</Label>
				</Choice>
				<Choice>
					<Value>1</Value>
					<Label>1-Mixed cystic and solid</Label>
				</Choice>
				<Choice>
					<Value>2</Value>
					<Label>2-Solid or almost completely solid</Label>
				</Choice>
			</ChoiceInfo>
		</ChoiceDataElement>
		
	     <ChoiceDataElement Id="echogenicity" IsRequired="true" DisplaySequence="2">
			<Label>Echogenicity</Label>
			<ChoiceInfo>
				<Choice>
					<Value>0</Value>
					<Label>0-Anechoic</Label>	
				</Choice>
				<Choice>
					<Value>1</Value>
					<Label>1-Hyperechoic or isoechoic</Label>
				</Choice>
				<Choice>
					<Value>2</Value>
					<Label>2-Hypoechoic</Label>
				</Choice>
				<Choice>
					<Value>3</Value>
					<Label>3-Very hypoechoic</Label>
				</Choice>
			</ChoiceInfo>
		</ChoiceDataElement>
		
		<ChoiceDataElement Id="shape" IsRequired="true" DisplaySequence="3">
			<Label>Shape</Label>
			<ChoiceInfo>
				<Choice>
					<Value>0</Value>
					<Label>0-Wider-than-tall</Label>	
				</Choice>
				<Choice>
					<Value>1</Value>
					<Label>1-Hyperechoic or isoechoic</Label>
				</Choice>
				<Choice>
					<Value>3</Value>
					<Label>3-Taller-than-wide</Label>
				</Choice>
			
			</ChoiceInfo>
		</ChoiceDataElement>		
		
		<ChoiceDataElement Id="margin" IsRequired="true" DisplaySequence="4">
			<Label>Margin</Label>
			<ChoiceInfo>
				<Choice>
					<Value>0</Value>
					<Label>0-Smooth</Label>	
				</Choice>
				<Choice>
					<Value>0</Value>
					<Label>0-Ill-defined</Label>
				</Choice>
				<Choice>
					<Value>2</Value>
					<Label>2-Lobulated or irregular</Label>
				</Choice>
				<Choice>
				    <Value>3</Value>
					<Label>3-Extra-thyroidal extension</Label>
				</Choice>
			</ChoiceInfo>
		</ChoiceDataElement>		
		
		<MultiChoiceDataElement Id="echogenicfoci" IsRequired="true" DisplaySequence="5">
			<Label>Echogenic Foci</Label>
			<ChoiceInfo>
				<Choice>
					<Value>0</Value>
					<Label>0-None or large comet-tail artifacts</Label>	
				</Choice>
				<Choice>
					<Value>1</Value>
					<Label>1-Macrocalcifications</Label>
				</Choice>
				<Choice>
					<Value>2</Value>
					<Label>2-Peripheral rim calcifications</Label>
				</Choice>
				<Choice>
					<Value>3</Value>
					<Label>3-Punctate echogenic focci</Label>
				</Choice>
			</ChoiceInfo>
		</MultiChoiceDataElement>
		
		<NumericDataElement Id="diameter" IsRequired="true" DisplaySequence="6">
		   <Label>Diameter</Label>
			<Hint>Use 0-10 scale</Hint>
			<Minimum>1</Minimum>
			<Maximum>10</Maximum>
		</NumericDataElement>		
	
		<ComputedDataElement Id="addtr1">
			<DecisionPoint>
				<Branch>
					<AndCondition>
						<GreaterThanOrEqualsCondition DataElementId="composition" ComparisonValue="0"/>
						<GreaterThanOrEqualsCondition DataElementId="echogenicity" ComparisonValue="0"/>
						<GreaterThanOrEqualsCondition DataElementId="shape" ComparisonValue="0"/>
						<GreaterThanOrEqualsCondition DataElementId="margin" ComparisonValue="0"/>
						<OrCondition>
							<ContainsCondition DataElementId="echogenicfoci" ComparisonValue="0"/>
							<ContainsCondition DataElementId="echogenicfoci" ComparisonValue="1"/>
							<ContainsCondition DataElementId="echogenicfoci" ComparisonValue="2"/>						
							<ContainsCondition DataElementId="echogenicfoci" ComparisonValue="3"/>
						</OrCondition>
					</AndCondition>
					<ArithmeticExpression>{composition} + {echogenicity} + {shape} + {margin} + {echogenicfoci}</ArithmeticExpression>
				</Branch>
			</DecisionPoint>
		</ComputedDataElement>				
	</DataElements>	
	
	<Rules>	
        <DecisionPoint Id="decisionPointAddtr1">
          <Label>0points</Label>
          <Branch>
			  <Label>0 points TR1</Label>
			  <EqualCondition DataElementId="addtr1" ComparisonValue="0"/>
			  <EndPointRef EndPointId="ReporttextTR1"></EndPointRef>
          </Branch>
		  <Branch>
			  <Label>2 points TR2</Label>
			  <EqualCondition DataElementId="addtr1" ComparisonValue="2"/>
			  <EndPointRef EndPointId="ReporttextTR2"></EndPointRef>
          </Branch>
		  <Branch>
			  <Label>3 points TR3 FNA</Label>
		  	  <AndCondition>
		  	  		<EqualCondition DataElementId="addtr1" ComparisonValue="3"/>
		  	  		<AndCondition>
		  	  			<GreaterThanOrEqualsCondition DataElementId="diameter" ComparisonValue="2.5"/>
		  	  		</AndCondition>	
		  	  </AndCondition>			  
		  	<EndPointRef EndPointId="ReporttextTR7"></EndPointRef>
          </Branch>
        	
        	<Branch>
        		<Label>3 points TR3 Follow</Label>
        		<AndCondition>
        			<EqualCondition DataElementId="addtr1" ComparisonValue="3"/>
        			<AndCondition>
        				<GreaterThanOrEqualsCondition DataElementId="diameter" ComparisonValue="1.5"></GreaterThanOrEqualsCondition>
        				<LessThanCondition DataElementId="diameter" ComparisonValue="2.5"></LessThanCondition>
        			</AndCondition>	
        		</AndCondition>			  
        		<EndPointRef EndPointId="ReporttextTR6"></EndPointRef>
        	</Branch>
        	
        	<Branch>
        		<Label>3 points TR3 Mildly Suspicious</Label>
        		<AndCondition>
        			<EqualCondition DataElementId="addtr1" ComparisonValue="3"/>
        			<AndCondition>        				
        				<LessThanCondition DataElementId="diameter" ComparisonValue="1.5"></LessThanCondition>
        			</AndCondition>	
        		</AndCondition>			  
        		<EndPointRef EndPointId="ReporttextTR8"></EndPointRef>
        	</Branch>
        	
        	<Branch>
        		<Label>4 points TR4 FNA</Label>
        		<AndCondition>
	        		<OrCondition>
	        			<EqualCondition DataElementId="addtr1" ComparisonValue="4"/>
	        			<EqualCondition DataElementId="addtr1" ComparisonValue="5"/>
	        			<EqualCondition DataElementId="addtr1" ComparisonValue="6"/>	
	        		</OrCondition>
        			<GreaterThanOrEqualsCondition DataElementId="diameter" ComparisonValue="1.5"></GreaterThanOrEqualsCondition>
        		</AndCondition>
        		<EndPointRef EndPointId="ReporttextTR9"></EndPointRef>
        	</Branch>
        	
        	<Branch>
        		<Label>4 points TR4 Follow</Label>
        		<AndCondition>
        			<OrCondition>
        				<EqualCondition DataElementId="addtr1" ComparisonValue="4"/>
        				<EqualCondition DataElementId="addtr1" ComparisonValue="5"/>
        				<EqualCondition DataElementId="addtr1" ComparisonValue="6"/>	
        			</OrCondition>
        			<AndCondition>
        				<GreaterThanOrEqualsCondition DataElementId="diameter" ComparisonValue="1"></GreaterThanOrEqualsCondition>
        				<LessThanCondition DataElementId="diameter" ComparisonValue="1.5"></LessThanCondition>
        			</AndCondition>
        		</AndCondition>
        		<EndPointRef EndPointId="ReporttextTR10"></EndPointRef>
        	</Branch>
        	
        	<Branch>
        		<Label>4 points TR4 Moderately Suspicious</Label>
        		<AndCondition>
        			<OrCondition>
        				<EqualCondition DataElementId="addtr1" ComparisonValue="4"/>
        				<EqualCondition DataElementId="addtr1" ComparisonValue="5"/>
        				<EqualCondition DataElementId="addtr1" ComparisonValue="6"/>	
        			</OrCondition>
        				<LessThanCondition DataElementId="diameter" ComparisonValue="1"></LessThanCondition>
        		</AndCondition>
        		<EndPointRef EndPointId="ReporttextTR11"></EndPointRef>
        	</Branch>
        	
        	
        	
        	
        	<Branch>
        		<Label>7 points TR5 FNA</Label>
        		<AndCondition>
        			<GreaterThanOrEqualsCondition DataElementId="addtr1" ComparisonValue="7"/>
        			<GreaterThanOrEqualsCondition DataElementId="diameter" ComparisonValue="1"/>
        		</AndCondition>
        		<EndPointRef EndPointId="ReporttextTR12"></EndPointRef>
        	</Branch>
        	
        	<Branch>
        		<Label>7 points TR5 Follow</Label>
        		<AndCondition>
        			<GreaterThanOrEqualsCondition DataElementId="addtr1" ComparisonValue="7"/>
        			<AndCondition>
        				<GreaterThanOrEqualsCondition DataElementId="diameter" ComparisonValue="0.5"></GreaterThanOrEqualsCondition>
        				<LessThanCondition DataElementId="diameter" ComparisonValue="1"></LessThanCondition>
        			</AndCondition>
        		</AndCondition>
        		<EndPointRef EndPointId="ReporttextTR13"></EndPointRef>
        	</Branch>
        	
        	<Branch>
        		<Label>7 points TR5 Highly Suspicious</Label>
        		<AndCondition>
        			<GreaterThanOrEqualsCondition DataElementId="addtr1" ComparisonValue="7"/>
        			<LessThanCondition DataElementId="diameter" ComparisonValue="0.5"></LessThanCondition>
        		</AndCondition>
        		<EndPointRef EndPointId="ReporttextTR14"></EndPointRef>
        	</Branch>
        	
			<Branch>
        		<Label>1 points</Label>
        		<AndCondition>
        			<EqualsCondition DataElementId="addtr1" ComparisonValue="1"/>
        			<GreaterThanOrEqualsCondition DataElementId="diameter" ComparisonValue="0.5"/>
        		</AndCondition>
        		<EndPointRef EndPointId="ReporttextTR15"></EndPointRef>
        	</Branch>
			
		<!--  <Branch>
			  <Label>4 points TR4</Label>
			  <OrCondition>
				<EqualCondition DataElementId="addtr1" ComparisonValue="4"/>
				<EqualCondition DataElementId="addtr1" ComparisonValue="5"/>
				<EqualCondition DataElementId="addtr1" ComparisonValue="6"/>	
			  </OrCondition>
			  <EndPointRef EndPointId="ReporttextTR4"></EndPointRef>
          </Branch>
          
		  <Branch>
			  <Label>5 points TR5</Label>
			  <GreaterThanOrEqualsCondition DataElementId="addtr1" ComparisonValue="7"/>
			  <EndPointRef EndPointId="ReporttextTR5"></EndPointRef>
		  </Branch>-->
        </DecisionPoint> 		
	</Rules>	
	
	<EndPoints>
	 <EndPoint Id="ReporttextTR1">
	  	<Label>Benign noFNA</Label>
      		<ReportTexts >
        		<ReportText SectionId="findings">TR1:
		 		Benign no FNA</ReportText>
      		</ReportTexts>
      </EndPoint>
		
	  <EndPoint Id="ReporttextTR2">
	 	<Label>NotSuspicious noFNA</Label>
	    	<ReportTexts>
	        	<ReportText SectionId="findings">TR2:
					Not Suspicious
					no FNA</ReportText>
	      		</ReportTexts>
	    </EndPoint>
		
		<EndPoint Id="ReporttextTR6">
			<Label>Mildly Suspicious Follow</Label>
			<ReportTexts >
				<ReportText SectionId="findings">TR3:
					Mildly Suspicious Follow
				</ReportText>
			</ReportTexts>
		</EndPoint>
		
		<EndPoint Id="ReporttextTR7">
			<Label>Mildly Suspicious FNA</Label>
			<ReportTexts >
				<ReportText SectionId="findings">TR3:
					Mildly Suspicious FNA
				</ReportText>
			</ReportTexts>
		</EndPoint>
		
		<EndPoint Id="ReporttextTR8">
			<Label>Mildly Suspicious</Label>
			<ReportTexts >
				<ReportText SectionId="findings">TR3:
					Mildly Suspicious
				</ReportText>
			</ReportTexts>
		</EndPoint>
		
		<EndPoint Id="ReporttextTR9">
			<Label>Moderately Suspicious FNA</Label>
			<ReportTexts >
				<ReportText SectionId="findings">TR4:
					Moderately Suspicious FNA 
				</ReportText>
			</ReportTexts>
		</EndPoint>
		
		<EndPoint Id="ReporttextTR10">
			<Label>Moderately Suspicious Follow</Label>
			<ReportTexts >
				<ReportText SectionId="findings">TR4:
					Moderately Suspicious Follow 
				</ReportText>
			</ReportTexts>
		</EndPoint>
		
		<EndPoint Id="ReporttextTR11">
			<Label>Moderately Suspicious</Label>
			<ReportTexts >
				<ReportText SectionId="findings">TR4:
					Moderately Suspicious 
				</ReportText>
			</ReportTexts>
		</EndPoint>
		
		<EndPoint Id="ReporttextTR12">
			<Label>Highly FNA</Label>
			<ReportTexts >
				<ReportText SectionId="findings">TR5:
					Highly Suspicious FNA 						
				</ReportText>
			</ReportTexts>
		</EndPoint>
		
		<EndPoint Id="ReporttextTR13">
			<Label>Highly Follow</Label>
			<ReportTexts >
				<ReportText SectionId="findings">TR5:
					Highly Suspicious Follow 						
				</ReportText>
			</ReportTexts>
		</EndPoint>
		
		<EndPoint Id="ReporttextTR14">
			<Label>Highly Suspicious</Label>
			<ReportTexts >
				<ReportText SectionId="findings">TR5:
					Highly Suspicious 						
				</ReportText>
			</ReportTexts>
		</EndPoint>
		
		<EndPoint Id="ReporttextTR15">
			<Label>Evaluation Incomplete</Label>
			<ReportTexts >
				<ReportText SectionId="findings">Evaluation Incomplete
				
				</ReportText>
			</ReportTexts>
		</EndPoint>
		
	</EndPoints>
	
</ReportingModule>
